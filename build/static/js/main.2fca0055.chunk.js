(this["webpackJsonpwhere-is-the-sun"]=this["webpackJsonpwhere-is-the-sun"]||[]).push([[0],{15:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(18),r=c.n(n),a=c(9),o=(c(15),c(16),c(19)),i=c(4),l=c(0);function j(e){var t=0;return Object(l.jsx)("div",{children:0!==b.length&&Object(l.jsxs)("div",{className:"container row recent-views",children:[Object(l.jsx)("p",{className:"col-9",children:"Recently viewed"}),b.slice(0,5).map((function(e,c){return Object(l.jsxs)("div",{className:"cache col-6",children:[Object(l.jsx)("h3",{children:e}),Object(l.jsx)("h5",{children:"Check weather"}),Object(l.jsx)(i.a,{icon:"akar-icons:arrow-right"})]},t++)}))]})})}var d=c(2),h="65360a361cb378c430986a4c72be7022",u="https://api.openweathermap.org/data/2.5/",b=JSON.parse(localStorage.getItem("cache"))||[];var O=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),O=Object(a.a)(r,2),m=O[0],x=O[1],f=Object(s.useState)({}),p=Object(a.a)(f,2),v=(p[0],p[1]),y=Object(s.useState)([]),N=Object(a.a)(y,2),g=(N[0],N[1]),w=Object(s.useState)(""),P=Object(a.a)(w,2),k=(P[0],P[1]),C=0,S=Object(d.e)(),W={};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"header col-lg-12",children:Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("h1",{className:"waldo",children:"Where is Waldo"}),Object(l.jsx)("h2",{className:"sun",children:"the sun"}),Object(l.jsx)("hr",{})]})}),Object(l.jsxs)("div",{className:"search-bar col-12",children:[Object(l.jsxs)("div",{className:"input-container col-12",children:[m?Object(l.jsx)(i.a,{icon:"fluent:location-28-filled"}):Object(l.jsx)(i.a,{icon:"fluent:location-28-regular"}),Object(l.jsx)("input",{className:"col-9",type:"text",placeholder:"Enter location",value:m,onChange:function(e){var t=e.target.value;x(t);var c=o.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));n(""===t?[]:c)},onKeyPress:function(e){"Enter"===e.key&&fetch("".concat(u,"weather?q=").concat(c[0].name,"&units=metric&APPID=").concat(h)).then((function(e){return e.ok?e.json():404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).then((function(e){b.unshift(c[0].name),localStorage.cache=JSON.stringify(b.slice(0,5)),v(e),fetch("".concat(u,"onecall?lat=").concat(c[0].lat,"&lon=").concat(c[0].lng,"&units=metric&exclude=hourly,minutely&APPID=").concat(h)).then((function(e){return e.ok?e.json():404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).then((function(t){g(t),W={result:e,res:t},S.push("/weather",W)})).catch((function(e){return console.log("error is",e)}))}))}}),0!==m.length&&Object(l.jsx)("h6",{onClick:function(){n([]),x("")},children:"Clear"})]}),0!==c.length&&Object(l.jsxs)("div",{className:"dataResult col-12",children:[c.slice(0,4).map((function(e,t){return Object(l.jsxs)("p",{className:"data",children:[" ",e.name," "]},C++)})),m[0]&&Object(l.jsx)("p",{className:"enter",children:"Press Enter to select"})]}),Object(l.jsx)("div",{className:"col-12",onClick:function(){fetch("http://ip-api.com/json/").then((function(e){return e.ok?e.json():404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).then((function(e){k(e);var t=e.city;fetch("".concat(u,"weather?q=").concat(t,"&units=metric&APPID=").concat(h)).then((function(e){return e.ok?e.json():404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).then((function(e){v(e),fetch("".concat(u,"onecall?lat=").concat(e.coord.lat,"&lon=").concat(e.coord.lon,"&units=metric&exclude=hourly,minutely&APPID=").concat(h)).then((function(e){return e.ok?e.json():404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).then((function(t){g(t),W={result:e,res:t},S.push("/weather",W)}))})).catch((function(e){console.log(e),alert("Turn off adblocker!")})).catch((function(e){return console.log("error is",e)}))}))},children:Object(l.jsx)("h3",{children:"Select my current location"})}),Object(l.jsx)(j,{})]})]})},m=c(11),x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))};r.a.render(Object(l.jsxs)(m.a,{children:[Object(l.jsx)(d.a,{path:"/home",component:O}),Object(l.jsx)(d.a,{path:"/weather",component:function(e){var t,c=0,s=Object(d.e)(),n=function(e){e.stopPropagation(),s.push("/home")},r=new Date,a=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),o=["Monday","Tueday","Wednesday","Thursday","Friday","Saturday","Sunday"],j=function(e){return"Rain"===e?Object(l.jsx)(i.a,{icon:"fluent:weather-rain-24-filled"}):"Clouds"===e?Object(l.jsx)(i.a,{icon:"bi:cloud-fill"}):"Clear"===e?Object(l.jsx)(i.a,{icon:"clarity:sun-solid"}):"Thunderstorm"===e?Object(l.jsx)(i.a,{icon:"ion:thunderstorm"}):"Snow"===e?Object(l.jsx)(i.a,{icon:"bi:cloud-snow-fill"}):"Mist"===e?Object(l.jsx)(i.a,{icon:"ri:mist-fill"}):Object(l.jsx)(i.a,{icon:"bi:cloud-fill"})};return Object(l.jsxs)("div",{className:"results",children:[Object(l.jsx)("div",{className:" col-lg-12",children:Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("h1",{className:"waldo",children:"Where is Waldo"}),Object(l.jsx)("h2",{className:"sun",children:"the sun"}),Object(l.jsx)("hr",{})]})}),Object(l.jsx)("div",{className:"weather-search-bar col-12",children:Object(l.jsx)("div",{className:"search-box",children:Object(l.jsxs)("div",{className:"input-container col-12",children:[Object(l.jsx)(i.a,{icon:"eva:arrow-back-fill",className:"back-icon",onClick:n}),e.location.state.result.name?Object(l.jsx)(i.a,{icon:"fluent:location-28-filled"}):Object(l.jsx)(i.a,{icon:"fluent:location-28-regular"}),Object(l.jsx)("input",{className:"col-9",type:"text",placeholder:e.location.state.result.name,value:e.location.state.result.name,onChange:n,onKeyPress:n}),0!==e.location.state.result.name&&Object(l.jsx)("h6",{onClick:n,children:"Clear"})]})})}),Object(l.jsxs)("div",{className:"forecast col-12",children:["undefined"!==typeof e.history.location.state.result.main?Object(l.jsx)("div",{className:"today-box col-12",children:Object(l.jsxs)("div",{className:"col-lg-12 col-md-6 today",children:[Object(l.jsx)("div",{className:"col-1",children:Object(l.jsx)("div",{className:"today-icon",children:j(e.location.state.result.weather[0].main)})}),Object(l.jsxs)("div",{className:"col-5",children:[Object(l.jsx)("h1",{children:"Today"}),Object(l.jsxs)("div",{className:"updated-time",children:[Object(l.jsxs)("h2",{children:[a,"\xa0"]}),Object(l.jsxs)("p",{children:["(updated at ",r.getHours(),".00)"]})]})]}),Object(l.jsx)("table",{className:"col-4",children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Temperature:"}),Object(l.jsx)("td",{children:Object(l.jsxs)("b",{children:[Math.round(e.history.location.state.result.main.temp),"\xb0C"]})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Wind:"}),Object(l.jsx)("td",{children:Object(l.jsxs)("b",{children:[e.history.location.state.result.wind.speed," m/s, ",(t=e.location.state.result.wind.gust,t>=0&&t<22.5?"N":t>=22.5&&t<67.5?"NE":t>=67.5&&t<112.5?"E":t>=112.5&&t<157.5?"SE":t>=157.5&&t<202.5?"S":t>=202.5&&t<247.5?"SW":t>=247.5&&t<292.5?"W":t>=292.5&&t<337.5?"NW":t>=337.5&&t<=360?"N":void 0)]})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Feels like:"}),Object(l.jsx)("td",{children:Object(l.jsxs)("b",{children:[Math.round(e.history.location.state.result.main.feels_like),"\xb0C"]})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Pressure:"}),Object(l.jsx)("td",{children:Object(l.jsxs)("b",{children:[e.history.location.state.result.main.pressure," mmHg"]})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"Humidity:"}),Object(l.jsx)("td",{children:Object(l.jsxs)("b",{children:[e.history.location.state.result.main.humidity,"%"]})})]})]})})]})}):"",Object(l.jsx)("div",{className:"col-lg-8 col-md-12 seven-day",children:0!==e.location.state.res.daily&&e.location.state.res.daily.slice(0,7).map((function(e){return Object(l.jsxs)("div",{className:"weather-card",children:[Object(l.jsx)("h2",{children:o[c++]}),j(e.weather[0].main),Object(l.jsxs)("p",{children:[e.temp.day,"\xb0"]}),Object(l.jsxs)("p",{children:[e.wind_speed," m/s"]})]},e.sunrise)}))})]})]})}})]}),document.getElementById("root")),x()}},[[32,1,2]]]);
//# sourceMappingURL=main.2fca0055.chunk.js.map